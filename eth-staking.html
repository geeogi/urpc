<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPC Web Components Test</title>
    <script type="module" src="urpc.js"></script>
  </head>
  <body>
    <urpc-url style="display: none">
      https://eth-mainnet.g.alchemy.com/v2/VjRG6l7jUiq9cJNzPDoLIw2lFz-pz_Ra
    </urpc-url>
    <urpc-directory style="display: none">
      <!-- method signatures -->
      <var name="balanceOf(address)">0x70a08231</var>
      <var name="totalSupply()">0x18160ddd</var>
      <var name="getEthBalance(address)">0x4d2301cc</var>
      <var name="latestAnswer()">0x50d25bcd</var>
      <var name="stEthPerToken()">0x035faf82</var>
      <var name="getNodeOperatorsCount()">0xa70c70e4</var>
      <var name="getBufferedEther()">0x47b714e0</var>
      <var name="numPods()">0xa6a509be</var>
      <!-- addresses -->
      <var name="ETHx"> 0xA35b1B31Ce002FBF2058D22F30f95D405200A15b </var>
      <var name="Multicall">0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441</var>
      <var name="ankrETH">0xe95a203b1a91a908f9b9ce46459d101078c2c3cb</var>
      <var name="cbETH">0xBe9895146f7AF43049ca1c1AE358B0541Ea49704</var>
      <var name="eETH">0x35fA164735182de50811E8e2E824cFb9B6118ac2</var>
      <var name="eUSD">0x97de57eC338AB5d51557DA3434828C5DbFaDA371</var>
      <var name="frxETH">0x5e8422345238f34275888049021821e8e08caa1f</var>
      <var name="mkUSD">0x4591dbff62656e7859afe5e45f6f47d3669fbb28</var>
      <var name="r">0x183015a9bA6fF60230fdEaDc3F43b3D788b13e21</var>
      <var name="rETH">0xae78736cd615f374d3085123a210448e74fc6393</var>
      <var name="rstETH">0xD36306A5D6BFDe4F57b5159C6518D93f171fE755</var>
      <var name="sETH2">0xFe2e637202056d30016725477c5da089Ab0A043A</var>
      <var name="sfrxETH">0xac3e018457b222d93114458476f3e3416abbe38f</var>
      <var name="stETH">0xae7ab96520de3a18e5e111b5eaab095312d7fe84</var>
      <var name="swETH">0xf951e335afb289353dc249e82926178eac7ded78</var>
      <var name="unstETH">0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1</var>
      <var name="wstETH">0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0</var>
      <var name="Aave V2 stETH">0x1982b2F5814301d4e9a8b0201555376e62F82428</var>
      <var name="Aave V3 cbETH">0x977b6fc5de62598b08c85ac8cf2b745874e8b78c</var>
      <var name="Aave V3 rETH">0xCc9EE9483f662091a1de4795249E24aC0aC2630f</var>
      <var name="Curve stETH">0xdc24316b9ae028f1497c275eb9192a3ea0f67022</var>
      <var name="Diva ETH">0x16770d642e882e1769ce4ac8612b8bc0601506fc</var>
      <var name="Diva stETH">0x1ce8aAfb51e79F6BDc0EF2eBd6fD34b00620f6dB</var>
      <var name="Aave V3 wstETH">
        0x0B925eD163218f6662a35e0f0371Ac234f9E9371
      </var>
      <var name="Arbitrum ERC20 bridge">
        0x0F25c1DC2a9922304f2eac71DCa9B07E310e8E5a
      </var>
      <var name="Chainlink ETH/USD">
        0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419
      </var>
      <var name="Chainlink stETH/ETH">
        0x86392dC19c0b719886221c78AB11eb8Cf5c52812
      </var>
      <var name="Compound V3 WETH">
        0xA17581A9E3356d9A858b789D68B4d866e593aE94
      </var>
      <var name="EigenLayer Pod Manager">
        0x91E677b07F7AF907ec9a428aafA9fc14a0d3A338
      </var>
      <var name="EigenLayer cbETH">
        0x54945180dB7943c0ed0FEE7EdaB2Bd24620256bc
      </var>
      <var name="EigenLayer rETH">
        0x1BeE69b7dFFfA4E2d53C2a2Df135C388AD25dCD2
      </var>
      <var name="EigenLayer stETH">
        0x93c4b944D05dfe6df7645A86cd2206016c51564D
      </var>
      <var name="Lido Node Registry">
        0x55032650b14df07b85bF18A3a3eC8E0Af2e028d5
      </var>
      <var name="OP ERC20 Bridge">
        0x76943C0D61395d8F2edF9060e1533529cAe05dE6
      </var>
    </urpc-directory>
    <main>
      <div style="column-width: 300px; column-gap: 8px; row-gap: 32px">
        <div>
          <h2 style="margin-top: 0px">ETH</h2>
          <p>
            <span>ETH price (Chainlink): </span>
            <span>
              <urpc-call
                to="$Chainlink ETH/USD"
                method="$latestAnswer()"
                decimals="8"
              ></urpc-call>
            </span>
          </p>
        </div>
        <div>
          <h2>Liquid staking</h2>
          <p>
            <span>Lido stETH supply: </span>
            <span>
              <urpc-call
                to="$stETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Coinbase cbETH supply: </span>
            <span>
              <urpc-call
                to="$cbETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>RocketPool rETH supply: </span>
            <span>
              <urpc-call
                to="$rETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Frax sfrxETH supply: </span>
            <span>
              <urpc-call
                to="$sfrxETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Stakewise sETH2 supply: </span>
            <span>
              <urpc-call
                to="$sETH2"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Swell swETH supply: </span>
            <span>
              <urpc-call
                to="$swETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>ANKR ankrETH supply: </span>
            <span>
              <urpc-call
                to="$ankrETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
        </div>
        <div>
          <h2>DVT</h2>
          <p>
            <span>Diva stETH staked: </span>
            <span>
              <urpc-call
                to="$stETH"
                method="$balanceOf(address)"
                args="$Diva stETH"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Diva ETH staked: </span>
            <span>
              <urpc-call
                to="$Diva ETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            SSV ETH staked: <a href="https://ssv.network">22k</a> as of Oct 2023
          </p>
          <p>
            Obol:
            <a
              href="https://blog.obol.tech/alpha-mainnet-validators-ecosystem-performance-testing/"
              >mainnet alpha</a
            >
            as of Oct 2023
          </p>
        </div>
        <div>
          <h2>Lido stETH</h2>
          <p>
            <span>stETH supply: </span>
            <span>
              <urpc-call
                to="$stETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>stETH/ETH price (Chainlink): </span>
            <span>
              <urpc-call
                to="$Chainlink stETH/ETH"
                method="$latestAnswer()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Curve stETH LP stETH: </span>
            <span>
              <urpc-call
                to="$Multicall"
                method="$getEthBalance(address)"
                args="$Curve stETH"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>Lido operators: </span>
            <span>
              <urpc-call
                to="$Lido Node Registry"
                method="$getNodeOperatorsCount()"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>stETH buffered ETH: </span>
            <span>
              <urpc-call
                to="$stETH"
                method="$getBufferedEther()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>stETH withdrawal queue: </span>
            <span>
              <urpc-call
                to="$stETH"
                method="$balanceOf(address)"
                args="$unstETH"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
        </div>
        <div>
          <h2>Lido wstETH</h2>
          <p>
            <span>wstETH supply: </span>
            <span>
              <urpc-call
                to="$wstETH"
                method="$totalSupply()"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>wstETH on Arb: </span>
            <span>
              <urpc-call
                to="$Arbitrum ERC20 bridge"
                method="$balanceOf(address)"
                args="$wstETH"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
          <p>
            <span>wstETH on Op: </span>
            <span>
              <urpc-call
                to="$OP ERC20 Bridge"
                method="$balanceOf(address)"
                args="$wstETH"
                decimals="18"
              ></urpc-call>
            </span>
          </p>
        </div>
        <div>
          <h2>EigenLayer</h2>
          <p>stETH staked: {elStETHBalance}</p>
          <p>cbETH staked: {elCbETHBalance}</p>
          <p>rETH staked: {elRETHBalance}</p>
          <p>EigenPods deployed: {elNumPods}</p>
        </div>
        <div>
          <h2>Lending</h2>
          <p>Aave V2 stETH: {aaveV2StETHBalance}</p>
          <p>Aave V3 wstETH: {aaveV3WstETHBalance}</p>
          <p>Aave V3 cbETH: {aaveV3CbETHBalance}</p>
          <p>Aave V3 rETH: {aaveV3RETHBalance}</p>
          <p>Compound V3 wstETH: {compoundV3WstETH}</p>
          <p>Compound V3 cbETH: {compoundV3CbETH}</p>
        </div>
        <div>
          <h2>LST-backed stables</h2>
          <p>Prisma mkUSD supply: {prismaMkUSDSupply}</p>
          <p>Lybra eUSD supply: {lybraEUSDSupply}</p>
          <p>Raft R supply: {raftRSupply}</p>
        </div>
        <div>
          <h2>Liquid restaking</h2>
          <p>
            <i
              >protocol list from
              <img src="/assets/0xkrane.jpg" style="width: 14px" />
              <a href="https://x.com/0xkrane/status/1718133394465247360?s=20"
                >0xkrane</a
              >
            </i>
          </p>
          <p>Stader ETHx supply: {ETHxSupply}</p>
          <p>ether.fi eETH supply: {eETHSupply}</p>
          <p>Astrid rstETH supply: {rstETHSupply}</p>
          <p>
            Rio Network:
            <a
              href="https://twitter.com/RioRestaking/status/1711758536462512216"
              >announcement tweet</a
            >
          </p>
          <p>
            Renzo Protocol:
            <a href="https://twitter.com/RenzoProtocol">twitter</a>
          </p>
          <p>
            Genesis LST:
            <a href="https://www.genesislst.com">website</a>
          </p>
          <p>
            Inception LST: <a href="https://www.inceptionlst.com">website</a>
          </p>
          <p>
            Restake Finance: <a href="https://restakefinance.com">website</a>
          </p>
          <p>Puffer: <a href="https://www.puffer.fi">website</a></p>
          <p>Ion Protocol: <a href="https://ionprotocol.io">website</a></p>
          <p>Supermeta: <a href="https://supermeta.fi">website</a></p>
        </div>
      </div>
    </main>
  </body>
</html>
